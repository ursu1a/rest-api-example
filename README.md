Для того чтобы запустить приложение с API на Go с использованием Docker и обеспечить удаленный доступ к серверу с этим API, вам нужно сделать следующее:

### Шаг 1. Создайте простое API на Go

Пример API на Go:

```go
package main

import (
	"fmt"
	"net/http"
)

func helloHandler(w http.ResponseWriter, r *http.Request) {
	fmt.Fprintf(w, "Hello, World!")
}

func main() {
	http.HandleFunc("/", helloHandler)
	http.ListenAndServe(":8080", nil)
}
```

### Шаг 2. Создайте `Dockerfile`

Создайте файл `Dockerfile` в корневой директории вашего проекта. Этот файл описывает инструкции для создания контейнера.

Пример `Dockerfile`:

```Dockerfile
# Используем базовый образ Go
FROM golang:1.18-alpine

# Создаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем все файлы из текущей директории на контейнер
COPY . .

# Собираем Go-приложение
RUN go build -o api .

# Указываем порт, который будет использоваться
EXPOSE 8080

# Команда для запуска API
CMD ["./api"]
```

### Шаг 3. Создайте файл `docker-compose.yml` (опционально)

Если хотите использовать Docker Compose для удобства управления контейнерами, создайте файл `docker-compose.yml`:

```yaml
version: '3'

services:
  api:
    build: .
    ports:
      - "8080:8080"
    restart: always
```

### Шаг 4. Соберите Docker-образ и запустите контейнер

1. Соберите Docker-образ:

   ```bash
   docker build -t go-api .
   ```

2. Запустите контейнер с вашим API:

   ```bash
   docker run -d -p 8080:8080 go-api
   ```

   Либо через Docker Compose:

   ```bash
   docker-compose up -d
   ```

### Шаг 5. Настройте удаленный доступ

Для того чтобы приложение было доступно извне, вам нужно убедиться, что:

1. Порт 8080 открыт на вашем сервере (например, через правила брандмауэра).
2. Если вы работаете на локальной машине и хотите протестировать доступ извне, вам может потребоваться настроить переадресацию портов (например, через NAT или используя инструменты типа [ngrok](https://ngrok.com/)).

После этого ваше API должно быть доступно по публичному IP или домену на порту 8080, например:

```
http://<IP-сервера>:8080/
```

Теперь вы можете получить доступ к вашему Go API удаленно.

При развертывании на облачном хостинге с доменом вам, вероятно, нужно будет сделать несколько дополнительных шагов для корректной работы вашего Go API:

### Основные шаги для развертывания:

1. **Настройка порта и брандмауэра:**
   - Убедитесь, что хостинг-провайдер разрешает использование порта 8080 (или другого порта, который вы указываете в API).
   - Если используете порт 80 или 443 (для HTTP или HTTPS), обычно настройки на сервере делают его доступным сразу.

2. **Настройка DNS:**
   - Вы должны настроить DNS-записи для вашего домена. Это включает в себя создание записи типа A (или CNAME) для вашего домена, которая будет указывать на IP-адрес сервера, где запущено ваше приложение.
   
3. **SSL-сертификат для HTTPS:**
   - Для обеспечения безопасности рекомендуется настроить HTTPS с помощью SSL-сертификата.
   - Большинство облачных хостинг-провайдеров поддерживают автоматическую настройку сертификатов с помощью [Let's Encrypt](https://letsencrypt.org/) или аналогичных сервисов.
   - Можно также использовать инструменты типа [Caddy](https://caddyserver.com/) или [NGINX](https://nginx.org/), которые автоматически настраивают SSL.

4. **Реверс-прокси:**
   - Для удобства можно настроить реверс-прокси сервер, например NGINX или Caddy, который будет перенаправлять запросы с вашего домена на API.
   - Это полезно, если вы хотите, чтобы ваше API было доступно на стандартном порту 80 или 443, а не 8080.

   Пример конфигурации NGINX:

   ```nginx
   server {
       listen 80;
       server_name example.com;

       location / {
           proxy_pass http://localhost:8080;
           proxy_set_header Host $host;
           proxy_set_header X-Real-IP $remote_addr;
           proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
           proxy_set_header X-Forwarded-Proto $scheme;
       }
   }
   ```

5. **Настройка автоматического деплоя:**
   - Если хостинг поддерживает Docker, вы можете настроить CI/CD (например, через GitLab CI, GitHub Actions или другой сервис), чтобы при изменениях в репозитории автоматически деплоилось ваше приложение.

6. **Мониторинг и логирование:**
   - На облачных платформах важно настроить мониторинг и логи. Большинство провайдеров предоставляют встроенные решения для отслеживания производительности и логов.

### Подведем итоги:

Если у вас настроен хостинг с публичным доменом и правильно настроены порты, брандмауэр и DNS, то дополнительных изменений в самом приложении на Go обычно не требуется. Основные дополнительные задачи — это настройка SSL-сертификатов и, возможно, реверс-прокси для работы через HTTP/HTTPS.
